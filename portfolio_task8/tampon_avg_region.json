{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Tampon Price Variation by Region",
    "font": "Baskerville",
    "subtitleFont": "Baskerville",
    "subtitle": [
      "Mean prices by region (Source: ONS microdata via Davies (2021))"
    ],
    "anchor": "start"
  },
  "width": 600,
  "height": 400,
  "data": {
    "url": "https://raw.githubusercontent.com/SarahRashid0/SarahRashid0.github.io/refs/heads/main/portfolio_task8/avg_tampon_prices.csv"
  },
  "transform": [
    {
      "filter": {
        "field": "Region",
        "oneOf": [
          "Northern Ireland",
          "London",
          "Scotland",
          "Wales"
        ]
      }
    }
  ],
  "params": [
    {
      "name": "highlight",
      "select": {
        "type": "point",
        "fields": ["Region"],
        "on": "pointerover",
        "clear": "pointerout"
      }
    }
  ],
  "mark": { "type": "line", "strokeWidth": 1.5 },
  "encoding": {
    "x": {
      "field": "Date",
      "type": "temporal",
      "title": " ",
      "axis": {
        "titleFont": "Baskerville"
      }
    },
    "y": {
      "field": "Mean",
      "type": "quantitative",
      "title": "Mean Tampon Price (GBP)",
      "axis": {
        "titleFont": "Baskerville"
      }
    },
    "color": {
      "field": "Region",
      "type": "nominal",
      "title": "Region",
      "scale": { "scheme": "greenblue" },
      "legend": {
        "titleFont": "Baskerville",
        "labelFont": "Baskerville"
      }
    },
    "opacity": { "condition": { "param": "highlight", "value": 1 }, "value": 0.2 },
    "tooltip": [
      { "field": "Date", "type": "temporal", "title": "Date" },
      { "field": "Region", "type": "nominal", "title": "Region" },
      {
        "field": "Mean",
        "type": "quantitative",
        "title": "Mean Price",
        "format": ".2f"
      }
    ]
  },
  "config": {
    "background": "#FDFBF7",
    "view": { "stroke": "transparent" },
    "legend": {
      "titleFont": "Baskerville",
      "labelFont": "Baskerville",
      "labelFontSize": 12
    },
    "axis": {
      "labelFont": "Baskerville",
      "labelColor": "#676A86",
      "gridOpacity": 0.5
    },
    "style": {
      "guide-label": {"font": "Baskerville"},
      "guide-title": {"font": "Baskerville"}
    }
  }
}