<!DOCTYPE html>
<html> 

<head>    
    <link rel="stylesheet" type="text/css" href="index.css">
    <title>My Portfolio</title> 

    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <style>
        #chartGrid {
            display: flex;
        }
        
    </style>
</head>

<body> 
    <h1 class="big" style="margin-bottom: 0px;"> 
        Sarah Rashid
    </h1>
    <p style="margin-top: 0px; color: darkblue">
        <a href="https://www.linkedin.com/in/sarah-r-005a70204/">LinkedIn</a> | <a
            href="https://github.com/SarahRashid0/SarahRashid0.github.io.git">GitHub</a>
    </p>
    
    <h3 class="small"> 
        This page contains all the porfolio tasks that must be completed for the PP434 Project.
    </h3>

<!--------------------------------------------------------------------------------------------------------------------------->
<!-- Collapsible button -->
<button type="button" class="collapsible">Portfolio Task 1: Hosting</button>

<!-- Collapsible content container -->
<div class="content">
    
    <!-- Section 1 -->
    <section>
        <div class="chart-description">
            <h2>Section 1: A basic chart</h2>
            <p>
                This page has been organised into various sections, with each section containing a chart, title and a description.
                As a first example, this basic chart provided as an example.
            </p>
        </div>
        <figure id="Location1"></figure> 
    </section>

    <script>
        let figure_1_spec = "https://raw.githubusercontent.com/EconomicsObservatory/courses/main/2/s2_chart2.json"; 
        vegaEmbed('#Location1', figure_1_spec);
    </script>

    <!-- Section 2 -->
    <section>
        <div class="chart-description">
            <h2>Section 2: Another basic chart</h2>
            <p> 
                One of the portfolio tasks is to add a chart from the repository to the live website. See below the added chart found in the repo.
            </p>
        </div>
        <figure id="Location2"></figure> 
    </section>

    <script>
        let figure_2_spec = "portfolio_task1/wk1_chart2.json"; 
        vegaEmbed('#Location2', figure_2_spec);
    </script>

    <!-- Section 3 -->
    <section>
        <div class="chart-description">
            <h2>Section 3: A chart from the web</h2>
            <p> 
                Another portfolio task is to add a chart from the web. Here is a chart that is not stored locally. This chart displays gun deaths and income. Using various US states, it shows median income on the x-axis and firearm deaths per 100,000 on the y-axis.
            </p>
        </div>
        <figure id="Location3"></figure> 
    </section>
    
    <script>
        let figure_3_spec = "https://rdeconomist.github.io/charts/library/chartScatter3.json"; 
        vegaEmbed('#Location3', figure_3_spec);
    </script>

</div> <!-- end collapsible content -->

<!--------------------------------------------------------------------------------------------------------------------------->

<!-- Collapsible button -->
<button type="button" class="collapsible">Portfolio Task 2: Building</button>

<!-- Collapsible content container -->
<div class="content">

    <!-- Section 1 -->
    <section>
        <div class="chart-description">
            <h2>Section 1: Adding in a personal chart</h2>
            <p> 
                Portfolio Task 2 is to add our own charts. The following chart shows public sector employment in the UK.
            </p>
        </div>
        <figure id="Location4"></figure> 
    </section>

    <script>
        let figure_4_spec = "portfolio_task2/public_sector_employment.json"; 
        vegaEmbed('#Location4', figure_4_spec);
    </script>

    <!-- Section 2 -->
    <section>
        <div class="chart-description">
            <h2>Section 2: Adding in another personal chart</h2>
            <p> 
                The second chart shows internal displacement in Bangladesh.
            </p>
        </div>
        <figure id="Location5"></figure> 
    </section>

    <script>
        let figure_5_spec = "portfolio_task2/displacement_bangladesh.json"; 
        vegaEmbed('#Location5', figure_5_spec);
    </script>

</div> <!-- end collapsible content -->

<!--------------------------------------------------------------------------------------------------------------------------->

<!-- Collapsible button -->
<button type="button" class="collapsible">Portfolio Task 3: Debate</button>

<!-- Collapsible content container -->
<div class="content">

    <!-- Section 1 -->
    <section>
        <div class="chart-description">
            <h2>Use visualisation in policy commentary</h2>
            <p> 
                Visualising the “aggregation problem” in global policy data
            </p>
            <p> 
                Should global progress on <a href="https://sdgs.un.org/goals/goal6">SDG 6</a> be judged by overall averages, or by improvements among the most disadvantaged groups?
            </p>
            <p> 
                The first chart shows that global access to safely managed drinking water has improved only marginally, suggesting progress toward SDG 6.1 may be minimal:
            </p>
        </div>
        <figure id="Location6"></figure> 
    </section>

    <script>
        let figure_6_spec = "portfolio_task3/washdata.json"; 
        vegaEmbed('#Location6', figure_6_spec);
    </script>

    <!-- Section 2 -->
    <section>
        <div class="chart-description">
            <p> 
               Yet the second chart reveals faster improvement in rural areas, illustrating how disaggregated data exposes hidden progress and the need for targeted policy investment.
            </p>
        </div>
        <figure id="Location7"></figure> 
    </section>

    <script>
        let figure_7_spec = "portfolio_task3/washdata_urban_rural.json"; 
        vegaEmbed('#Location7', figure_7_spec);
    </script>

</div> <!-- end collapsible content -->

<!--------------------------------------------------------------------------------------------------------------------------->

 <!-- Collapsible button -->
<button type="button" class="collapsible">Portfolio Task 4: Replication</button>

<!-- Collapsible content container -->
<div class="content">

    <!-- Section 1 -->
    <section>
        <div class="chart-description">
            <h2>Re-creating and improving someone else’s chart</h2>
            <p> 
                The following shows the Reuters “Gun deaths in Florida” chart. 
                A reversed y-axis made it seem gun deaths declined after Florida’s “Stand Your Ground” law in 2005, 
                prompting backlash over how visual design can distort reality.
            </p>
        </div>
        <img src="portfolio_task4/graph.png" alt="Reuters Gun Deaths in Florida Chart" width="300">
    </section>

    <!-- Section 2 -->
    <section>
        <div class="chart-description">
            <p> 
                Below is my replication of the above chart. 
            </p>
        </div>
        <figure id="Location8"></figure> 
    </section>

    <script>
        let figure_8_spec = "portfolio_task4/recreate_graph.json"; 
        vegaEmbed('#Location8', figure_8_spec);
    </script>

    <!-- Section 3 -->
    <section>
        <div class="chart-description">
            <p> 
                And finally, here is an improved version of the chart. 
                The revised graph corrects the inverted y-axis to ensure accurate interpretation and incorporates interactive tooltips 
                to improve data transparency and user comprehension.
            </p>
        </div>
        <figure id="Location9"></figure> 
    </section>

    <script>
        let figure_9_spec = "portfolio_task4/improved_graph.json"; 
        vegaEmbed('#Location9', figure_9_spec);
    </script>

</div> <!-- end collapsible content -->

<!--------------------------------------------------------------------------------------------------------------------------->

 <!-- Collapsible button -->
<button type="button" class="collapsible">Portfolio Task 5: Accessing data</button>

<!-- Collapsible content container -->
<div class="content">

    <!-- Section 1 -->
    <section>
        <div class="chart-description">
            <h2>API task</h2>
            <p> 
                The following shows data on crime in London (January 2025), accessed via an API.
            </p>
        </div>
        <figure id="Location10"></figure> 
    </section>

    <script>
        let figure_10_spec = "portfolio_task5/crime_london.json"; 
        vegaEmbed('#Location10', figure_10_spec);
    </script>

    <!-- Section 2 -->
    <section>
        <div class="chart-description">
             <h2>Scraper task</h2>

            <p> 
                Here is the link to the Google Collab python notebook where I conducted my data analysis
            </p>
        </div>

        <a href="https://colab.research.google.com/drive/1PxEOg8qmGpshaw8msP094xXporjWxJMO?usp=sharing">Google Colab</a>
        
    </section>

</div> <!-- end collapsible content -->

<!--------------------------------------------------------------------------------------------------------------------------->

<!-- Collapsible button -->
<button type="button" class="collapsible">Portfolio Task 6: Loops</button>

<!-- Collapsible content container -->
<div class="content">

    <section>
        <div class="chart-description">
            <h2>Building a Dashboard</h2>
            <p>The following shows a dashboard built using loops and multiple food PPI datasets.</p>
        </div>

        <!-- A container to hold the charts -->
        <div id="charts-container"></div>
    </section>

    <!-- JS loop MUST be inside .content -->
    <script>
        const charts = [
        { 
            title: "Meats", 
            url: "https://raw.githubusercontent.com/SarahRashid0/SarahRashid0.github.io/main/portfolio_task6/food_ppi_WPU0221.json" 
        },
        { 
            title: "Salmon", 
            url: "https://raw.githubusercontent.com/SarahRashid0/SarahRashid0.github.io/main/portfolio_task6/food_ppi_WPU02230103.json" 
        },
        { 
            title: "Lobsters", 
            url: "https://raw.githubusercontent.com/SarahRashid0/SarahRashid0.github.io/main/portfolio_task6/food_ppi_WPU02230503.json" 
        },
        { 
            title: "Butter", 
            url: "https://raw.githubusercontent.com/SarahRashid0/SarahRashid0.github.io/main/portfolio_task6/food_ppi_WPU023201.json" 
        },
        { 
            title: "Coffee", 
            url: "https://raw.githubusercontent.com/SarahRashid0/SarahRashid0.github.io/main/portfolio_task6/food_ppi_WPU025503011.json" 
        },
        { 
            title: "Chocolate", 
            url: "https://raw.githubusercontent.com/SarahRashid0/SarahRashid0.github.io/main/portfolio_task6/food_ppi_WPU026301.json" 
        }
    ];

    charts.forEach((item, index) => {
        const container = document.getElementById("charts-container");

        // Wrapper div
        const block = document.createElement("div");
        block.className = "chart-block";
        block.style.margin = "40px 0";

        // Title
        const title = document.createElement("h2");
        title.textContent = item.title;
        title.style.marginBottom = "10px";
        title.style.fontSize = "1.4rem";
        title.style.fontWeight = "600";

        // Add title to block
        block.appendChild(title);

        // Chart container
        const chartDiv = document.createElement("div");
        chartDiv.id = `chart-${index}`;
        block.appendChild(chartDiv);

        // Add whole block to page
        container.appendChild(block);

        // Vega spec
        const spec = {
            $schema: "https://vega.github.io/schema/vega-lite/v5.json",
            data: { 
                url: item.url,
                format: { property: "observations" }
            },
            transform: [
                { calculate: "datum.value === '.' ? null : toNumber(datum.value)", as: "clean_value" }
            ],
            mark: "line",
            encoding: {
                x: { field: "date", type: "temporal" },
                y: { field: "clean_value", type: "quantitative" }
            }
        };

        vegaEmbed(`#chart-${index}`, spec);
    });
</script>

</div>
<!-- end collapsible content -->
        
<!--------------------------------------------------------------------------------------------------------------------------->

<!-- Collapsible button -->
<button type="button" class="collapsible">Portfolio Task 7: Maps</button>

<!-- Collapsible content container -->
<div class="content">

    <!-- Section 1 -->
    <section>
        <div class="chart-description">
            <h2>Chlorpeth Map (Scotland)</h2>
            <p> 
                The following shows a chlorpeth map of happiness scores in Scotland by Local Authority Districts.
            </p>
        </div>
        <figure id="Location11"></figure> 
    </section>

    <script>
        let figure_11_spec = "portfolio_task7/scotland_happiness.json"; 
        vegaEmbed('#Location11', figure_11_spec);
    </script>

    <!-- Section 2 -->
    <section>
        <div class="chart-description">
             <h2>Coordinates Map (Wales)</h2>

            <p> 
                Here is a coordinates map of main GP Sites in Wales.
            </p>
        </div>
        <figure id="Location12"></figure> 
    </section>

    <script>
        let figure_12_spec = "portfolio_task7/coordinate_wales_gp.json"; 
        vegaEmbed('#Location12', figure_12_spec);
    </script>

</div> <!-- end collapsible content -->

<!--------------------------------------------------------------------------------------------------------------------------->


<script>
document.addEventListener("DOMContentLoaded", () => {
    const coll = document.getElementsByClassName("collapsible");
    for (let i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            // Close all other collapsibles
            for (let j = 0; j < coll.length; j++) {
                if (coll[j] !== this) {
                    coll[j].classList.remove("active");
                    coll[j].nextElementSibling.style.maxHeight = null;
                }
            }
            // Toggle current one
            this.classList.toggle("active");
            const content = this.nextElementSibling;
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
            }
        });
    }
});
</script>


</body>
    
</html>
